antiban() {
restore;
clear
echo "Please wait.."
su -c iptables --flush
sleep 1
iptables -I OUTPUT -d dl.listdl.com -j REJECT
iptables -I FORWARD -d dl.listdl.com -j REJECT
iptables -I INPUT -s dl.listdl.com -j REJECT
iptables -I OUTPUT -d cloud.vmp.onezapp.com -j REJECT
iptables -I INPUT -s cloud.vmp.onezapp.com -j REJECT
if [[ ! -d /data/data/$PKG ]]
then
clear ; echo "PUBG Mobile not found!" ; exit
exit
fi
rm -rf /data/data/$PKG/files/ano_tmp
touch /data/data/$PKG/files/ano_tmp
DUMP() {
  pm dump $1 | grep $2 | tr ' ' '\n' | grep $1 | sed s/$2// | tr -d '\n';
};
lib=`ls -mR $(DUMP $PKG legacyNativeLibraryDir=) | grep : | tr -d : | grep /arm | grep -v dora`
LOGO="/data/data/$PKG/files/TDM_KV.log.0"
}

start()
{
fix;
while [ ! -f $LOGO ]; do sleep 0.01; done
mv $lib/{libCrashSight.so,$RANDOM}
mv $lib/{libUE4.so,2}
sleep 3
mv $lib/{2,libUE4.so}
sleep 7
chmod 600 /data/data/$PKG/files/ano_tmp
clear
echo "done.."
fix;
}

fix()
{
echo 16384 > /proc/sys/fs/inotify/max_queued_events
echo 128 > /proc/sys/fs/inotify/max_user_instances
echo 8192 > /proc/sys/fs/inotify/max_user_watches
sleep 1
}

logs(){
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/Logs > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/UpdateInfo > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/TableDatas > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/Config > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/conversation.ini > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/GameErrorNoRecords > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/StatEventReportedFlag > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/ImageDownload > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/MMKV > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/rawdata > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/SaveGames > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/SrcVersion.ini > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/logs > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/Pandora > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/Updateinfo > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/PufferEifs1 > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/PufferEifs0 > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/PufferTmpDir > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/RoleInfo > nul 2>&1
rm -rf /data/data/$PKG/databases > nul 2>&1
rm -rf /sdcard/Android/.system_android_l2 > nul 2>&1
rm -rf /data/data/$PKG/files/.system_android_l2 > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/.system_android_l2 > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Intermediate > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/SaveGames > nul 2>&1
rm -rf /data/data/$PKG/shared_prefs > nul 2>&1
mkdir /data/data/$PKG/shared_prefs > nul 2>&1
chmod -R 777 /data/data/$PKG/shared_prefs > nul 2>&1
rm -rf /data/data/$PKG/databases/* > nul 2>&1
rm -rf /data/data/$PKG/code_cache > nul 2>&1
rm -rf /data/data/$PKG/app_bugly > nul 2>&1
rm -rf /data/data/$PKG/app_crashrecord > nul 2>&1
rm -rf /data/data/$PKG/app_databases > nul 2>&1
rm -rf /data/data/$PKG/app_webview > nul 2>&1
rm -rf /data/data/$PKG/cache > nul 2>&1
rm -rf /data/data/$PKG/files > nul 2>&1
rm -rf /data/data/$PKG/lib > nul 2>&1
rm -rf /data/data/$PKG/no_backup > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/cache > nul 2>&1
rm -f /sdcard/Android/data/$PKG/files/.fff > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/*.fff > nul 2>&1
rm -f /sdcard/Android/data/$PKG/files/ca-bundle.pem > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/Epic Games > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/login-identifier.txt > nul 2>&1
rm -rf /sdcard/Android/data/$PKG/files/TGPA > nul 2>&1
rm -rf /data/data/$PKG/app_textures > nul 2>&1
rm -f /data/app/$PKG*/lib/arm/libhelpshiftlistener.so > nul 2>&1
rm -rf /data/media/0/.backups/$PKG > nul 2>&1
rm -rf /data/data/$PKG/databases
rm -rf /data/media/0/Android/data/$PKG/files/login-identifier.txt
rm -rf /data/media/0/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Intermediate
rm -rf /data/media/0/Android/data/$PKG/files/TGPA
rm -rf /data/media/0/Android/data/$PKG/files/ProgramBinaryCache
}

hacks()
{
sleep 1
iptables -A INPUT -p tcp -j DROP
iptables -A OUTPUT -p tcp -j DROP
iptables -A FORWARD -p tcp -j DROP
echo "done..."
mv $lib/{libUE4.so,1}
fix;
}

restore() {
DATA="/data/data/$PKG"
SAVED="/data/media/0/Android/data/$PKG/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved"
cp /data/data/$PKG/shared_prefs/device_id.xml /storage/emulated/0/Android
rm -rf $SAVED/{Logs,*Info} $SAVED/SaveGames/*.json $DATA/{c*,a*,s*,n*}
echo "Restore data started..."
rm -rf /data/data/$PKG/*
sleep 1
echo "Installing PUBG Mobile..."
APK=$(pm path $PKG)
cat ${APK#*:} | pm install -r -S $(stat -c%s ${APK#*:}) &> /dev/null
clear
mkdir /data/data/$PKG/shared_prefs
mv /storage/emulated/0/Android/device_id.xml /data/data/$PKG/shared_prefs
chmod 755 /data/data/$PKG/shared_prefs/device_id.xml
su -c iptables --flush
echo "Everything is done..."
sleep 1
}

rguest() {
logs;
iptables -I OUTPUT -d cloud.vmp.onezapp.com -j REJECT
iptables -I INPUT -s cloud.vmp.onezapp.com -j REJECT
GUEST="/data/data/$PKG/shared_prefs/device_id.xml"
echo "<?xml version='1.0' encoding='utf-8' standalone='yes' ?>
<map>
    <string name=\"random\"></string>
    <string name=\"install\"></string>
    <string name=\"uuid\">$RANDOM$RANDOM-$RANDOM-$RANDOM-$RANDOM-$RANDOM$RANDOM$RANDOM</string>
</map>" > $GUEST
echo "Reset Guest success..."
}

mainmenu(){
clear
echo 
echo
echo -e "             \e[96m𝕄𝕒𝕟𝕕𝕒𝕦 𝔼𝕩𝕡𝕖𝕣𝕚𝕖𝕟𝕔𝕖\e[39m"
echo -e " \e[93m\e[93m=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\e[39m\e[39m"
echo -e " • 1> PUBG Mobile Global"
echo -e " • 2> PUBG Mobile Vietnam"
echo -e " • 3> PUBG Mobile Korea"
echo -e " • 4> PUBG Mobile Taiwan"
echo -e " • 5> PUBG Mobile BGMI"
echo -e " \e[93m\e[93m=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\e[39m\e[39m"
echo -e " Please enter the number you select"
echo -e " "
read menu
if [[ $menu = "1" ]]; then
clear
global;
exit;
elif [[ $menu = "2" ]]; then
clear
vietnam;
exit;
elif [[ $menu = "3" ]]; then
clear
korea;
elif [[ $menu = "4" ]]; then
clear
taiwan;
elif [[ $menu = "5" ]]; then
clear
bgmi;
else
clear
echo -e "thanks for using my hacks!"
echo -e "@mandauxp"
sleep 1
exit
fi
}

global(){
clear
echo 
echo
echo -e "             \e[96m𝕄𝕒𝕟𝕕𝕒𝕦 𝔼𝕩𝕡𝕖𝕣𝕚𝕖𝕟𝕔𝕖\e[39m (global)"
echo -e " \e[93m=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\e[39m"
echo -e " • 1> Start Antiban"
echo -e " • 2> Input iptables (island)"
echo -e " • 3> Delete iptables (if connection problem)"
echo -e " • 4> Restore (after close PUBG Mobile)"
echo -e " • 5> Reset Guest Account"
echo -e " \e[93m=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\e[39m"
echo -e " Please enter the number you select"
echo -e " "
read gmenu
if [[ $gmenu = "1" ]]; then
clear
PKG="com.tencent.ig"
antiban;
clear
echo 
echo "Starting PUBG Mobile..."
sleep 2
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
start;
global;
exit;
elif [[ $gmenu = "2" ]]; then
clear
PKG="com.tencent.ig"
hacks;
echo
sleep 1
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
clear
global;
exit;
elif [[ $gmenu = "3" ]]; then
clear
PKG="com.tencent.ig"
su -c iptables --flush
echo "Delete iptables is done..."
sleep 1
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
clear
global;
exit;
elif [[ $gmenu = "4" ]]; then
clear
PKG="com.tencent.ig"
restore;
echo
sleep 2
clear
global;
exit;
elif [[ $gmenu = "5" ]]; then
clear
PKG="com.tencent.ig"
rguest;
clear
echo 
echo "Starting PUBG Mobile..."
sleep 2
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
sleep 2
clear
global;
exit;
else
clear
echo -e "thanks for using my hacks!"
echo -e "@mandauxp"
sleep 1
mainmenu;
fi
}

vietnam(){
clear
echo 
echo
echo -e "             \e[96m𝕄𝕒𝕟𝕕𝕒𝕦 𝔼𝕩𝕡𝕖𝕣𝕚𝕖𝕟𝕔𝕖\e[39m (vietnam)"
echo -e " \e[93m=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\e[39m"
echo -e " • 1> Start Antiban"
echo -e " • 2> Input iptables (island)"
echo -e " • 3> Delete iptables (if connection problem)"
echo -e " • 4> Restore (after close PUBG Mobile)"
echo -e " • 5> Reset Guest Account"
echo -e " \e[93m=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\e[39m"
echo -e " Please enter the number you select"
echo -e " "
read vmenu
if [[ $vmenu = "1" ]]; then
clear
PKG="com.vng.pubgmobile"
antiban;
clear
echo 
echo "Starting PUBG Mobile..."
sleep 2
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
start;
vietnam;
exit;
elif [[ $vmenu = "2" ]]; then
clear
PKG="com.vng.pubgmobile"
hacks;
echo
sleep 1
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
clear
vietnam;
exit;
elif [[ $vmenu = "3" ]]; then
clear
PKG="com.vng.pubgmobile"
su -c iptables --flush
echo "Delete iptables is done..."
sleep 1
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
clear
vietnam;
exit;
elif [[ $vmenu = "4" ]]; then
clear
PKG="com.vng.pubgmobile"
restore;
echo
sleep 2
clear
vietnam;
exit;
elif [[ $vmenu = "5" ]]; then
clear
PKG="com.vng.pubgmobile"
rguest;
echo
sleep 2
clear
vietnam;
exit;
else
clear
echo -e "thanks for using my hacks!"
echo -e "@mandauxp"
sleep 1
mainmenu;
fi
}

korea(){
clear
echo 
echo
echo -e "             \e[96m𝕄𝕒𝕟𝕕𝕒𝕦 𝔼𝕩𝕡𝕖𝕣𝕚𝕖𝕟𝕔𝕖\e[39m (korea)"
echo -e " \e[93m=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\e[39m"
echo -e " • 1> Start Antiban"
echo -e " • 2> Input iptables (island)"
echo -e " • 3> Delete iptables (if connection problem)"
echo -e " • 4> Restore (after close PUBG Mobile)"
echo -e " • 5> Reset Guest Account"
echo -e " \e[93m=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\e[39m"
echo -e " Please enter the number you select"
echo -e " "
read kmenu
if [[ $kmenu = "1" ]]; then
clear
PKG="com.pubg.krmobile"
antiban;
clear
echo 
echo "Starting PUBG Mobile..."
sleep 2
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
start;
korea;
exit;
elif [[ $kmenu = "2" ]]; then
clear
PKG="com.pubg.krmobile"
hacks;
echo
sleep 1
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
clear
korea;
exit;
elif [[ $kmenu = "3" ]]; then
clear
PKG="com.pubg.krmobile"
su -c iptables --flush
echo "Delete iptables is done..."
sleep 1
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
clear
korea;
exit;
elif [[ $kmenu = "4" ]]; then
clear
PKG="com.pubg.krmobile"
restore;
echo
sleep 2
clear
korea;
exit;
elif [[ $kmenu = "5" ]]; then
clear
PKG="com.pubg.krmobile"
rguest;
echo
sleep 2
clear
korea;
exit;
else
clear
echo -e "thanks for using my hacks!"
echo -e "@mandauxp"
sleep 1
mainmenu;
fi
}

taiwan(){
clear
echo 
echo
echo -e "             \e[96m𝕄𝕒𝕟𝕕𝕒𝕦 𝔼𝕩𝕡𝕖𝕣𝕚𝕖𝕟𝕔𝕖\e[39m (taiwan)"
echo -e " \e[93m=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\e[39m"
echo -e " • 1> Start Antiban"
echo -e " • 2> Input iptables (island)"
echo -e " • 3> Delete iptables (if connection problem)"
echo -e " • 4> Restore (after close PUBG Mobile)"
echo -e " • 5> Reset Guest Account"
echo -e " \e[93m=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\e[39m"
echo -e " Please enter the number you select"
echo -e " "
read tmenu
if [[ $tmenu = "1" ]]; then
clear
PKG="com.rekoo.pubgm"
antiban;
clear
echo 
echo "Starting PUBG Mobile..."
sleep 2
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
start;
taiwan;
exit;
elif [[ $tmenu = "2" ]]; then
clear
PKG="com.rekoo.pubgm"
hacks;
echo
sleep 1
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
clear
taiwan;
exit;
elif [[ $tmenu = "3" ]]; then
clear
PKG="com.rekoo.pubgm"
su -c iptables --flush
echo "Delete iptables is done..."
sleep 1
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
clear
taiwan;
exit;
elif [[ $tmenu = "4" ]]; then
clear
PKG="com.rekoo.pubgm"
restore;
echo
sleep 2
clear
taiwan;
exit;
elif [[ $tmenu = "5" ]]; then
clear
PKG="com.rekoo.pubgm"
rguest;
echo
sleep 2
clear
taiwan;
exit;
else
clear
echo -e "thanks for using my hacks!"
echo -e "@mandauxp"
sleep 1
mainmenu;
fi
}

bgmi(){
clear
echo 
echo
echo -e "             \e[96m𝕄𝕒𝕟𝕕𝕒𝕦 𝔼𝕩𝕡𝕖𝕣𝕚𝕖𝕟𝕔𝕖\e[39m (bgmi)"
echo -e " \e[93m=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\e[39m"
echo -e " • 1> Start Antiban"
echo -e " • 2> Input iptables (island)"
echo -e " • 3> Delete iptables (if connection problem)"
echo -e " • 4> Restore (after close PUBG Mobile)"
echo -e " • 5> Reset Guest Account"
echo -e " \e[93m=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\e[39m"
echo -e " Please enter the number you select"
echo -e " "
read bmenu
if [[ $bmenu = "1" ]]; then
clear
PKG="com.pubg.imobile"
antiban;
clear
echo 
echo "Starting PUBG Mobile..."
sleep 2
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
start;
bgmi;
exit;
elif [[ $bmenu = "2" ]]; then
clear
PKG="com.pubg.imobile"
hacks;
echo
sleep 1
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
clear
bgmi;
exit;
elif [[ $bmenu = "3" ]]; then
clear
PKG="com.pubg.imobile"
su -c iptables --flush
echo "Delete iptables is done..."
sleep 1
su -c am start -n $PKG/com.epicgames.ue4.SplashActivity &> /dev/null
clear
bgmi;
exit;
elif [[ $bmenu = "4" ]]; then
clear
PKG="com.pubg.imobile"
restore;
echo
sleep 2
clear
bgmi;
exit;
elif [[ $bmenu = "5" ]]; then
clear
PKG="com.pubg.imobile"
rguest;
echo
sleep 2
clear
bgmi;
exit;
else
clear
echo -e "thanks for using my hacks!"
echo -e "@mandauxp"
sleep 1
mainmenu;
fi
}
clear
echo -e "Please wait.."
sleep 1
echo -e "Loading..."
sleep 1
mainmenu;
